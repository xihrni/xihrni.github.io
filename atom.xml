<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.xihrni.com</id>
    <title>æˆ‘çš„ä¸–ç•Œ</title>
    <updated>2020-06-02T07:18:01.537Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.xihrni.com"/>
    <link rel="self" href="https://www.xihrni.com/atom.xml"/>
    <subtitle>åªæœ‰è‡ªèº«å¼ºå¤§</subtitle>
    <logo>https://www.xihrni.com/images/avatar.png</logo>
    <icon>https://www.xihrni.com/favicon.ico</icon>
    <rights>All rights reserved 2020, æˆ‘çš„ä¸–ç•Œ</rights>
    <entry>
        <title type="html"><![CDATA[Git ä»è¿œç¨‹æ‹‰å–æ•°æ®æ—¶æç¤ºï¼š'You have not concluded your merge (MERGE_HEAD exists).' è§£å†³æ–¹æ³•]]></title>
        <id>https://www.xihrni.com/post/git-cong-yuan-cheng-la-qu-shu-ju-shi-ti-shi-you-have-not-concluded-your-merge-merge_head-exists/</id>
        <link href="https://www.xihrni.com/post/git-cong-yuan-cheng-la-qu-shu-ju-shi-ti-shi-you-have-not-concluded-your-merge-merge_head-exists/">
        </link>
        <updated>2020-06-02T03:07:51.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="å½“å‰çŠ¶æ€">ğŸ˜³å½“å‰çŠ¶æ€</h3>
<p>æœ‰äº›ä»£ç æœªåŠ åˆ°å¿½ç•¥æ–‡ä»¶ç„¶åç³»ç»Ÿè¿è¡Œä¸­è¢«ä¿®æ”¹ä¹‹åå¦‚æœæœªå¤„ç†è¿›è¡Œæ‹‰å–ï¼Œåœ¨æ“ä½œçš„è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°äº†å¦‚ä¸‹çŠ¶æ€</p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="å½“å‰çŠ¶æ€">ğŸ˜³å½“å‰çŠ¶æ€</h3>
<p>æœ‰äº›ä»£ç æœªåŠ åˆ°å¿½ç•¥æ–‡ä»¶ç„¶åç³»ç»Ÿè¿è¡Œä¸­è¢«ä¿®æ”¹ä¹‹åå¦‚æœæœªå¤„ç†è¿›è¡Œæ‹‰å–ï¼Œåœ¨æ“ä½œçš„è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°äº†å¦‚ä¸‹çŠ¶æ€</p>
<!-- more -->
<pre><code class="language-shell">&gt; git status
# On branch develop
# Your branch and 'origin/develop' have diverged,
# and have 9 and 7 different commits each, respectively.
#   (use &quot;git pull&quot; to merge the remote branch into yours)
#
# All conflicts fixed but you are still merging.
#   (use &quot;git commit&quot; to conclude merge)
#
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   config/site_config.php
#       modified:   sitemap_article.xml
#       modified:   sitemap_goods.xml
#       modified:   sitemaps.xml
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>è¿™ä¸ªæ—¶å€™å¯ä»¥å…ˆå¤‡ä»½ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œç„¶åé‡ç½®åˆ°ä¿®æ”¹ä¹‹å‰çš„çŠ¶æ€å†æ‹‰å–è¯•è¯•</p>
<pre><code class="language-shell">&gt; git checkout -- config/site_config.php
&gt; git checkout -- sitemap_article.xml
&gt; git checkout -- sitemap_goods.xml
&gt; git checkout -- sitemap.xml
&gt; git pull
</code></pre>
<p>å¦‚æœæç¤ºä»¥ä¸‹ä¿¡æ¯åˆ™éœ€è¦ä½¿ç”¨å¼ºåˆ¶åˆå¹¶è¿›è¡Œæ“ä½œ</p>
<pre><code class="language-shell">&gt; git pull
You have not concluded your merge (MERGE_HEAD exists).
Please, commit your changes before you can merge.
</code></pre>
<h3 id="å¼ºåˆ¶åˆå¹¶">å¼ºåˆ¶åˆå¹¶</h3>
<blockquote>
<p>å¼ºåˆ¶åˆå¹¶ä¼šè¦†ç›–æœ¬åœ°ç‰ˆæœ¬ï¼Œè¯·å…ˆå¤‡ä»½ç›¸å…³æ–‡ä»¶</p>
</blockquote>
<pre><code class="language-shell">&gt; git fetch --all
&gt; git reset --hard origin/master
&gt; git fetch
</code></pre>
<p>å†è¿›è¡Œæ‹‰å–åˆ™æ²¡æœ‰é—®é¢˜äº†</p>
<pre><code class="language-shell">&gt; git pull
</code></pre>
<p>ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Borderlands 2 è®¾ç½®ä¸ºç¹ä½“ä¸­æ–‡ï¼ˆEpic Games å¹³å°ï¼‰]]></title>
        <id>https://www.xihrni.com/post/borderlands-2-she-zhi-wei-fan-ti-zhong-wen-epic-games-ping-tai/</id>
        <link href="https://www.xihrni.com/post/borderlands-2-she-zhi-wei-fan-ti-zhong-wen-epic-games-ping-tai/">
        </link>
        <updated>2020-06-02T00:24:01.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ˜³æ‰“å¼€ Epic Games å¹³å°å…ˆå®‰è£…å¥½æ¸¸æˆåè¿›å…¥è®¾ç½®ç•Œé¢</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ˜³æ‰“å¼€ Epic Games å¹³å°å…ˆå®‰è£…å¥½æ¸¸æˆåè¿›å…¥è®¾ç½®ç•Œé¢</p>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://www.xihrni.com/post-images/1591057609359.png" alt="Epic Games å¹³å°è®¾ç½®ç•Œé¢" loading="lazy"></figure>
<p>æ»‘åŠ¨åˆ°æœ€ä¸‹æ–¹çš„ç®¡ç†æ¸¸æˆï¼Œå±•å¼€ BORDERLANDS 2ï¼Œå‹¾é€‰ <code>é¢å¤–å‘½ä»¤è¡Œå‚æ•°</code> ååœ¨è¾“å…¥æ¡†ç²˜è´´æ­¤å­—ç¬¦ï¼š <code>-epiclocale=zh-Hant</code><br>
<img src="https://www.xihrni.com/post-images/1591057832534.png" alt="Epic Games å¹³å°è®¾ç½®ç•Œé¢" loading="lazy"></p>
<p>è¿”å›åˆ°æ¸¸æˆåº“å¯åŠ¨å³å¯</p>
<p>å¯åŠ¨ç•Œé¢è¿˜æ˜¯è‹±æ–‡ä¸ç”¨ç†ä»–ï¼Œç‚¹ <code>PLAY</code> è¿›å…¥æ¸¸æˆåå°±æ˜¯ç¹ä½“ä¸­æ–‡äº†<br>
<img src="https://www.xihrni.com/post-images/1591058065557.png" alt="æ¸¸æˆå¯åŠ¨ç•Œé¢" loading="lazy"><br>
<img src="https://www.xihrni.com/post-images/1591058184453.png" alt="æ¸¸æˆèœå•ç•Œé¢" loading="lazy"><br>
ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…³äº PHP è¿æ¥æœ¬åœ° localhost ä¸Šçš„ Redis ç‰¹åˆ«æ…¢çš„å¤„ç†è®°å½•]]></title>
        <id>https://www.xihrni.com/post/guan-yu-php-lian-jie-localhost-shang-de-redis-te-bie-man-de-chu-li-ji-lu/</id>
        <link href="https://www.xihrni.com/post/guan-yu-php-lian-jie-localhost-shang-de-redis-te-bie-man-de-chu-li-ji-lu/">
        </link>
        <updated>2020-05-28T05:43:58.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>ğŸ˜³ æœ¬åœ°çš„ Yii2 é¡¹ç›®é…ç½® Redis ç¼“å­˜åæ¥å£é€Ÿåº¦éå¸¸æ…¢ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹åå‘ç°æ¯æ¬¡éƒ½æ˜¯åœ¨è¿æ¥ Redis çš„æ—¶å€™è€—æ—¶æœ€é•¿ï¼Œä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯ Yii2 æ¡†æ¶çš„æ‰©å±•é—®é¢˜ï¼Œåæ¥ç”¨ php-cli æ‰§è¡Œå•ä¸ªæ–‡ä»¶ä¹Ÿä¼šå‡ºç°å¤ªæ…¢çš„æƒ…å†µã€‚</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>ğŸ˜³ æœ¬åœ°çš„ Yii2 é¡¹ç›®é…ç½® Redis ç¼“å­˜åæ¥å£é€Ÿåº¦éå¸¸æ…¢ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹åå‘ç°æ¯æ¬¡éƒ½æ˜¯åœ¨è¿æ¥ Redis çš„æ—¶å€™è€—æ—¶æœ€é•¿ï¼Œä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯ Yii2 æ¡†æ¶çš„æ‰©å±•é—®é¢˜ï¼Œåæ¥ç”¨ php-cli æ‰§è¡Œå•ä¸ªæ–‡ä»¶ä¹Ÿä¼šå‡ºç°å¤ªæ…¢çš„æƒ…å†µã€‚</p>
</blockquote>
<!-- more -->
<h3 id="è¿æ¥-redis">è¿æ¥ Redis</h3>
<p>PHP è¿æ¥ Redis ä»£ç ï¼š</p>
<pre><code class="language-php">&lt;?php // redis.php
echo time() . &quot;\r\n&quot;;
$redis = new Redis();
$redis-&gt;connect('localhost', 6379);
echo 'Server is running: ' . $redis-&gt;ping() . &quot;\r\n&quot;;
echo time() . &quot;\r\n&quot;;
</code></pre>
<p>ä½¿ç”¨ php-cli æ‰§è¡Œï¼Œå‘ç°æ—¶é—´ç›¸å·®2ç§’ï¼š</p>
<pre><code class="language-shell">PS &gt; php -f redis.php
1590629905
Server is running: +PONG
1590629907
</code></pre>
<p>ä½†æ˜¯å°†è¿æ¥åœ°å€æ¢æˆ <code>127.0.0.1</code> ä¹‹åå´æ­£å¸¸ï¼š</p>
<pre><code class="language-shell">PS &gt; php -f redis.php
1590629918
Server is running: +PONG
1590629918
</code></pre>
<h3 id="é—®é¢˜åŸå› ">é—®é¢˜åŸå› </h3>
<p>ä¸Šç½‘æŸ¥äº†äº›èµ„æ–™åå‘ç° Windows ä» Win7 ä»¥åä¼˜å…ˆä½¿ç”¨ IPv6 çš„åè®®ï¼Œä½¿ <code>localhost</code> èµ°äº† IPv6 åè®®ï¼š</p>
<pre><code class="language-shell">PS &gt; hostname
G-AA00604

PS &gt; ping G-AA00604

æ­£åœ¨ Ping G-AA00604 [fe80::5cd6:59d3:ad04:b26f%14] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
æ¥è‡ª fe80::5cd6:59d3:ad04:b26f%14 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª fe80::5cd6:59d3:ad04:b26f%14 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª fe80::5cd6:59d3:ad04:b26f%14 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª fe80::5cd6:59d3:ad04:b26f%14 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128

fe80::5cd6:59d3:ad04:b26f%14 çš„ Ping ç»Ÿè®¡ä¿¡æ¯:
    æ•°æ®åŒ…: å·²å‘é€ = 4ï¼Œå·²æ¥æ”¶ = 4ï¼Œä¸¢å¤± = 0 (0% ä¸¢å¤±)ï¼Œ
å¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½):
    æœ€çŸ­ = 0msï¼Œæœ€é•¿ = 0msï¼Œå¹³å‡ = 0ms
</code></pre>
<p>ä»ä¸Šé¢çš„ <code>ping</code> å‘½ä»¤è¯·æ±‚è‡ªå·±æœ¬æœºçš„ä¸»æœºåç§°ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›çš„æ˜¯ IPv6 çš„åœ°å€ç±»å‹ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ç½‘ç»œæ¥å£çš„ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="language-shell">PS &gt; netsh interface ipv6 show prefixpolicies
æŸ¥è¯¢æ´»åŠ¨çŠ¶æ€...

ä¼˜å…ˆé¡ºåº    æ ‡ç­¾   å‰ç¼€
----------  -----  --------------------------------
        50      0  ::1/128
        40      1  ::/0
        35      4  ::ffff:0:0/96
        30      2  2002::/16
        5       5  2001::/32
        3       13  fc00::/7
        1       11  fec0::/10
        1       12  3ffe::/16
        1       3  ::/96

</code></pre>
<p>å¯ä»¥çœ‹åˆ°  IPv6 çš„åœ°å€ç±»å‹åœ¨æœ€ä¸Šé¢ï¼Œè€Œ IPv4 çš„åœ°å€ç±»å‹åœ¨æœ€ä¸‹é¢</p>
<h3 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h3>
<p>æ—¢ç„¶ IPv4 çš„ä¼˜å…ˆçº§è¾ƒä½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ”¹å˜ä¸€ä¸‹ä¼˜å…ˆçº§ï¼ˆä½¿ç”¨ç®¡ç†å‘˜æƒé™ï¼‰</p>
<pre><code class="language-shell">PS &gt; netsh int ipv6 set prefix ::/96 50 0
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix ::ffff:0:0/96 40 1
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix 2002::/16 35 2
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix 2001::/32 30 3
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix ::1/128 10 4
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix ::/0 5 5
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix fc00::/7 3 13
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix fec0::/10 1 11
ç¡®å®šã€‚

PS &gt; netsh int ipv6 set prefix 3ffe::/16 1 12
ç¡®å®šã€‚

</code></pre>
<p>æ”¹å®Œä¹‹åæˆ‘ä»¬å†çœ‹ä¸€ä¸‹ç½‘ç»œæ¥å£çš„ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="language-shell">PS &gt; netsh interface ipv6 show prefixpolicies
æŸ¥è¯¢æ´»åŠ¨çŠ¶æ€...

ä¼˜å…ˆé¡ºåº    æ ‡ç­¾   å‰ç¼€
----------  -----  --------------------------------
        50      0  ::/96
        40      1  ::ffff:0:0/96
        35      2  2002::/16
        30      3  2001::/32
        10      4  ::1/128
         5      5  ::/0
         3     13  fc00::/7
         1     12  3ffe::/16
         1     11  fec0::/10

</code></pre>
<p>çœ‹åˆ° IPv4 çš„ä¼˜å…ˆçº§å·²ç»åœ¨æœ€ä¸Šæ–¹äº†ï¼Œé‚£æˆ‘ä»¬å† <code>ping</code> ä¸€ä¸‹ï¼š</p>
<pre><code class="language-shell">PS &gt; ping G-AA00604

æ­£åœ¨ Ping G-AA00604 [192.168.56.1] å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:
æ¥è‡ª 192.168.56.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª 192.168.56.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª 192.168.56.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128
æ¥è‡ª 192.168.56.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=128

192.168.56.1 çš„ Ping ç»Ÿè®¡ä¿¡æ¯:
    æ•°æ®åŒ…: å·²å‘é€ = 4ï¼Œå·²æ¥æ”¶ = 4ï¼Œä¸¢å¤± = 0 (0% ä¸¢å¤±)ï¼Œ
å¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½):
    æœ€çŸ­ = 0msï¼Œæœ€é•¿ = 0msï¼Œå¹³å‡ = 0ms
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å·²ç»åå›äº† IPv4 çš„åœ°å€ç±»å‹ï¼Œå†è¯•è¯•è¿æ¥ <code>localhost</code> çš„ Redisï¼š</p>
<pre><code class="language-shell">PS &gt; php -f redis.php
1590630198
Server is running: +PONG
1590630198
</code></pre>
<p>åˆ°æ­¤ï¼Œå·²ç»è§£å†³äº†è¿æ¥ <code>localhost</code> æ…¢çš„é—®é¢˜ï¼Œå…¶ä»–åº”ç”¨ä¹Ÿå¯ä½¿ç”¨æ­¤æ–¹å¼è§£å†³ï¼Œæ¯”å¦‚ï¼šMySQLã€MemCacahe ç­‰<br>
ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MacOS å·²è¿è¡Œçš„ Docker å®¹å™¨æ·»åŠ /ä¿®æ”¹ç«¯å£æ˜ å°„]]></title>
        <id>https://www.xihrni.com/post/macos-yi-yun-xing-de-docker-rong-qi-tian-jia-xiu-gai-duan-kou-ying-she/</id>
        <link href="https://www.xihrni.com/post/macos-yi-yun-xing-de-docker-rong-qi-tian-jia-xiu-gai-duan-kou-ying-she/">
        </link>
        <updated>2020-01-01T06:24:35.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>ğŸ˜³å½“å‰å®¹å™¨åç§°ä¸º <code>btPanel</code>ï¼Œéœ€è¦æ·»åŠ  <code>3306</code> ç«¯å£</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>ğŸ˜³å½“å‰å®¹å™¨åç§°ä¸º <code>btPanel</code>ï¼Œéœ€è¦æ·»åŠ  <code>3306</code> ç«¯å£</p>
</blockquote>
<!-- more -->
<h3 id="ç¡®è®¤å·²æ˜ å°„ç«¯å£">ç¡®è®¤å·²æ˜ å°„ç«¯å£</h3>
<pre><code class="language-shell"># name or container id
&gt; docker port btPanel
</code></pre>
<h3 id="ç¡®è®¤å®¹å™¨id">ç¡®è®¤å®¹å™¨ID</h3>
<pre><code class="language-shell">&gt; docker container inspect btPanel
</code></pre>
<h3 id="åœæ­¢å®¹å™¨">åœæ­¢å®¹å™¨</h3>
<pre><code class="language-shell">&gt; docker stop btPanel
</code></pre>
<h3 id="ç™»å½•åˆ°å®¹å™¨">ç™»å½•åˆ°å®¹å™¨</h3>
<pre><code class="language-shell">&gt; screen ~/Library/Containers/com.docker.docker/Data/vms/0/tty
</code></pre>
<h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶">ä¿®æ”¹é…ç½®æ–‡ä»¶</h3>
<p>å…ˆè¿›å…¥å®¹å™¨IDçš„ç›®å½•</p>
<pre><code class="language-shell">&gt; cd /var/lib/docker/containers/&lt;containerId&gt;
</code></pre>
<p>ä¿®æ”¹ <code>config.v2.json</code> æ–‡ä»¶</p>
<blockquote>
<p>è¢«å‹ç¼©çš„ json æ ¼å¼ï¼Œå¯å¤åˆ¶å‡ºæ¥ç”¨ç¼–è¾‘å™¨ä¿®æ”¹</p>
</blockquote>
<pre><code class="language-shell">&gt; vi config.v2.json
</code></pre>
<p>shell<br>
æŒ‰ç…§åŸæœ‰æ ¼å¼ä¿®æ”¹æˆ–æ–°å¢ <code>Config.ExposedPorts</code> å—</p>
<pre><code class="language-json">{
    &quot;80/tcp&quot;: {},
    &quot;888/tcp&quot;: {},
    &quot;3306/tcp&quot;: {}
}
</code></pre>
<p>ä¿®æ”¹å®Œåä¿å­˜é€€å‡º</p>
<pre><code class="language-shell">:wq
</code></pre>
<p>ä¿®æ”¹ <code>hostconfig.json</code> æ–‡ä»¶</p>
<blockquote>
<p>è¢«å‹ç¼©çš„ json æ ¼å¼ï¼Œå¯å¤åˆ¶å‡ºæ¥ç”¨ç¼–è¾‘å™¨ä¿®æ”¹</p>
</blockquote>
<pre><code class="language-shell">&gt; vi config.v2.json
</code></pre>
<p>æŒ‰ç…§åŸæœ‰æ ¼å¼ä¿®æ”¹æˆ–æ–°å¢ <code>PortBindings</code> å—</p>
<pre><code class="language-json">{
    &quot;80/tcp&quot;: [
        {
            &quot;HostIp&quot;: &quot;&quot;,
            &quot;HostPort&quot;: &quot;80&quot;
        }
    ],
    &quot;888/tcp&quot;: [
        {
            &quot;HostIp&quot;: &quot;&quot;,
            &quot;HostPort&quot;: &quot;888&quot;
        }
    ],
    &quot;3306/tcp&quot;: [
        {
            &quot;HostIp&quot;: &quot;&quot;,
            &quot;HostPort&quot;: &quot;3306&quot;
        }
    ]
}
</code></pre>
<p>ä¿®æ”¹å®Œåä¿å­˜é€€å‡º</p>
<pre><code class="language-shell">:wq
</code></pre>
<blockquote>
<p>vi å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œ<code>dd</code> æ˜¯åˆ é™¤å½“å‰è¡Œï¼Œ<code>dG</code> æ˜¯åˆ é™¤å½“å‰è¡Œåé¢çš„å†…å®¹</p>
</blockquote>
<h3 id="é€€å‡ºå®¹å™¨">é€€å‡ºå®¹å™¨</h3>
<p>æŒ‰ä¸‹ <code>Ctrl</code> + <code>A</code>ï¼Œå†å¿«é€ŸæŒ‰ <code>D</code>ï¼Œé€€å‡º <code>screen</code></p>
<h3 id="ä¼šè¯">ä¼šè¯</h3>
<p>æŸ¥çœ‹å½“å‰ä¼šè¯</p>
<pre><code class="language-shell">&gt; screen -ls
</code></pre>
<p>æ€æ­»ä¼šè¯å¹¶é€€å‡º</p>
<pre><code class="language-shell">&gt; kill -9 12345
&gt; screen -wipe
</code></pre>
<h3 id="é‡å¯-docker-desktop">é‡å¯ Docker Desktop</h3>
<p>æ‰‹åŠ¨åœ¨çŠ¶æ€æ ä¸Šç‚¹å‡» <code>Restart</code> è¿›è¡Œé‡å¯<br>
<img src="https://www.xihrni.com/post-images/1591079475440.png" alt="" loading="lazy"></p>
<p>æœ€åé‡å¯å®¹å™¨</p>
<pre><code class="language-shell">&gt; docker start btPanel
</code></pre>
<p>ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[CentOS ä½¿ç”¨ç§˜é’¥å…å¯† SSH è¿œç¨‹ç™»å½•]]></title>
        <id>https://www.xihrni.com/post/centos-shi-yong-mi-yao-mian-mi-ssh-yuan-cheng-deng-lu/</id>
        <link href="https://www.xihrni.com/post/centos-shi-yong-mi-yao-mian-mi-ssh-yuan-cheng-deng-lu/">
        </link>
        <updated>2019-11-26T06:45:02.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ç”Ÿæˆ-ssh-key">ğŸ˜³ç”Ÿæˆ SSH Key</h3>
<blockquote>
<p><code>~</code> ä»£è¡¨å½“å‰ç”¨æˆ·ç›®å½•ï¼Œæ¯”å¦‚ root ç”¨æˆ·åˆ™ä¸º <code>/root</code></p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ç”Ÿæˆ-ssh-key">ğŸ˜³ç”Ÿæˆ SSH Key</h3>
<blockquote>
<p><code>~</code> ä»£è¡¨å½“å‰ç”¨æˆ·ç›®å½•ï¼Œæ¯”å¦‚ root ç”¨æˆ·åˆ™ä¸º <code>/root</code></p>
</blockquote>
<!-- more -->
<p>æ£€æŸ¥å½“å‰æ˜¯å¦å·²å­˜åœ¨ <code>ssh key</code></p>
<pre><code class="language-shell">&gt; cat ~/.ssh/id_rsa
</code></pre>
<p>ç”Ÿæˆ <code>ssh key</code> ï¼ˆå·²å­˜åœ¨åˆ™æ— éœ€ç”Ÿæˆï¼‰</p>
<pre><code class="language-shell">&gt; ssh-keygen -t rsa -C &quot;xieyucheng@dyg.cn&quot;
</code></pre>
<p><code>id_rsa</code> ä¸ºç§˜é’¥æ–‡ä»¶ï¼Œ<code>id_rsa.pub</code> ä¸ºå…¬é’¥æ–‡ä»¶</p>
<p>æŸ¥çœ‹å…¬é’¥æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; cat ~/.ssh/id_rsa.pub
</code></pre>
<blockquote>
<p>æ³¨ï¼šæœ¬åœ°ä¸è¿œç¨‹éƒ½éœ€ç”ŸæˆSSh Key</p>
</blockquote>
<h3 id="æœ¬åœ°å…¬é’¥åŠ å…¥åˆ°è¿œç¨‹æœåŠ¡å™¨æˆæƒæ–‡ä»¶ä¸­">æœ¬åœ°å…¬é’¥åŠ å…¥åˆ°è¿œç¨‹æœåŠ¡å™¨æˆæƒæ–‡ä»¶ä¸­</h3>
<p><strong>è¿œç¨‹æœåŠ¡å™¨</strong>æ£€æŸ¥å½“å‰æ˜¯å¦å·²å­˜åœ¨ <code>authorized_keys</code> æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; cat ~/.ssh/authorized_keys
</code></pre>
<p>åˆ›å»º <code>authorized_keys</code> æ–‡ä»¶å¹¶ä¿®æ”¹æƒé™ï¼ˆå·²å­˜åœ¨åˆ™æ— éœ€åˆ›å»ºï¼‰</p>
<pre><code class="language-shell">&gt; touch ~/.ssh/authorized_keys
&gt; chmod 600 ~/.ssh/authorized_keys
</code></pre>
<p>æ‹·è´<strong>æœ¬åœ°</strong> <code>id_rsa.pub</code> å…¬é’¥æ–‡ä»¶ä¸­æ‰€æœ‰å†…å®¹åˆ°<strong>è¿œç¨‹æœåŠ¡å™¨</strong></p>
<pre><code class="language-shell">&gt; vi ~/.ssh/G-AA00468.pub # åˆ›å»ºä¸€ä¸ªä»¥æœ¬åœ°ä¸»æœºåç§°å‘½åçš„ä¸´æ—¶æ–‡ä»¶
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘çŠ¶æ€ï¼Œç²˜è´´ï¼Œè¾“å…¥ <code>:wq</code> ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º</p>
<pre><code class="language-shell">&gt; cat ~/.ssh/G-AA00468.pub &gt;&gt; ~/.ssh/authorized_keys # è¿½åŠ åˆ° `authorized_keys` æ–‡ä»¶
</code></pre>
<h3 id="é…ç½®è¿œç¨‹æœåŠ¡å™¨sshæœåŠ¡">é…ç½®è¿œç¨‹æœåŠ¡å™¨SSHæœåŠ¡</h3>
<p>ç¼–è¾‘ <code>ssh</code> é…ç½®</p>
<pre><code class="language-shell">&gt; vi /etc/ssh/sshd_config
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘çŠ¶æ€ï¼Œå°†ä¸‹é¢ä¸¤ä¸ªé…ç½®ä¿®æ”¹ï¼Œè¾“å…¥ <code>:wq</code> ä¿å­˜æ–‡ä»¶å¹¶é€€å‡º</p>
<pre><code class="language-shell">PasswordAuthentication no // ç¦æ­¢ä½¿ç”¨åŸºäºå£ä»¤è®¤è¯çš„æ–¹å¼ç™»é™†
PubkeyAuthentication yes // å…è®¸ä½¿ç”¨åŸºäºå¯†é’¥è®¤è¯çš„æ–¹å¼ç™»é™†
</code></pre>
<p>é‡å¯ <code>ssh</code> æœåŠ¡</p>
<pre><code class="language-shell">&gt; /etc/init.d/sshd reload # CentOS7ç³»ç»Ÿä»¥ä¸‹
</code></pre>
<p><strong>æˆ–</strong></p>
<pre><code class="language-shell">&gt; systemctl restart sshd.service # CentOS7ç³»ç»Ÿä»¥ä¸Š
</code></pre>
<h3 id="ä½¿ç”¨ç§˜é’¥å…å¯†ç™»å½•">ä½¿ç”¨ç§˜é’¥å…å¯†ç™»å½•</h3>
<pre><code class="language-shell">&gt; ssh -i ~/.ssh/id_rsa root@***.***.***.***
</code></pre>
<p>ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Centos é‡å†™ crontab -r å‘½ä»¤é˜²æ­¢è¯¯æ“ä½œ]]></title>
        <id>https://www.xihrni.com/post/centos-chong-xie-crontab-r-ming-ling-fang-zhi-wu-cao-zuo/</id>
        <link href="https://www.xihrni.com/post/centos-chong-xie-crontab-r-ming-ling-fang-zhi-wu-cao-zuo/">
        </link>
        <updated>2019-07-24T07:01:58.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>ğŸ˜³ä¸€æ¬¡è¯¯æ“ä½œå°†æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰å®šæ—¶ä»»åŠ¡æ¸…é™¤å¯¼è‡´é¡¹ç›®æ•…éšœ</p>
</blockquote>
<h3 id="åˆ«å">åˆ«å</h3>
<p>è®¾ç½®åˆ«åé‡å†™ <code>crontab</code> å‘½ä»¤</p>
<pre><code class="language-shell">&gt; vi /etc/bashrc
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ–°å¢ä¸€è¡Œ</p>
<pre><code class="language-shell">alias crontab='/usr/bin/crontab.sh'
</code></pre>
<p>è¾“å…¥ <code>:wq</code> ä¿å­˜å¹¶é€€å‡º</p>
<h3 id="å‘½ä»¤æ–‡ä»¶">å‘½ä»¤æ–‡ä»¶</h3>
<p>ç¼–è¾‘æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; vi crontab.sh
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç </p>
<pre><code class="language-shell">#!/bin/sh
source /etc/profile;
source ~/.bash_profile;

etime=`date -d &quot;0 days ago&quot; +%Y%m%d_%H%M%S`

if [ &quot;$1&quot; = &quot;-r&quot; ] ; then
    echo &quot;My God! Dangerous...&quot;
    echo &quot;Exit...&quot;
    exit 2
fi

if [ &quot;$1&quot; = &quot;-l&quot; ] ; then
    /usr/bin/crontab -l
    exit 0
fi

# ç¼–è¾‘æ—¶è¿›è¡Œå¤‡ä»½
if [ &quot;$1&quot; = &quot;-e&quot; ] ; then
    mkdir -p  ~/cronbak
    /usr/bin/crontab -l  &gt;  ~/cronbak/cron.bak.$etime.a
    /usr/bin/crontab -e
    /usr/bin/crontab -l  &gt;  ~/cronbak/cron.bak.$etime.b
f
</code></pre>
<p>ç§»åŠ¨æ–‡ä»¶å¹¶æ·»åŠ æƒé™</p>
<pre><code class="language-shell">&gt; mv crontab.sh /usr/bin
&gt; chmod 755 /usr/bin/crontab.sh
</code></pre>
<p>ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Centos å®‰è£… Composer å¹¶é…ç½®ç¯å¢ƒ]]></title>
        <id>https://www.xihrni.com/post/centos-an-zhuang-composer-bing-pei-zhi-huan-jing/</id>
        <link href="https://www.xihrni.com/post/centos-an-zhuang-composer-bing-pei-zhi-huan-jing/">
        </link>
        <updated>2019-07-23T07:07:27.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="php-cli">ğŸ˜³PHP CLI</h3>
<p>é¦–å…ˆæ£€æµ‹ PHP CLI ç‰ˆæœ¬ï¼Œè¾“å…¥å‘½ä»¤</p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="php-cli">ğŸ˜³PHP CLI</h3>
<p>é¦–å…ˆæ£€æµ‹ PHP CLI ç‰ˆæœ¬ï¼Œè¾“å…¥å‘½ä»¤</p>
<!-- more -->
<pre><code class="language-shell">&gt; php -v
PHP 5.2.3 (cli) ...
</code></pre>
<p>éœ€è¦æ›´æ¢ PHP CLI ç‰ˆæœ¬ï¼Œä½¿ç”¨ BT é¢æ¿ä¸­ <code>7.2</code> çš„ç‰ˆæœ¬ï¼Œè®¾ç½®ä¸€ä¸ªåˆ«å</p>
<pre><code class="language-shell">&gt; vi ~/.bashrc
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ–°å¢ä¸€è¡Œ</p>
<pre><code class="language-shell">alias php='/www/server/php/72/bin/php'
</code></pre>
<p>è¾“å…¥ <code>:wq</code> ä¿å­˜å¹¶é€€å‡º</p>
<p>å†æ¬¡æ‰§è¡Œ <code>php -v</code> æŸ¥çœ‹ç‰ˆæœ¬ï¼Œè¾“å‡º</p>
<pre><code class="language-shell">PHP 7.2.4 (cli) (built: Nov 12 2018 10:47:44) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies
</code></pre>
<p>çœ‹åˆ°å·²ç»æ˜¯ <code>7.2.4</code> çš„ç‰ˆæœ¬</p>
<h3 id="composer">Composer</h3>
<p>ä½¿ç”¨ PHP ä¸‹è½½å®‰è£…æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; php -r &quot;copy('https://getcomposer.org/installer', 'composer-setup.php');&quot;
</code></pre>
<p>éªŒè¯æ–‡ä»¶æ˜¯å¦æ­£ç¡®</p>
<pre><code class="language-shell">&gt; php -r &quot;if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;&quot;
</code></pre>
<p>è¾“å‡º <code>Installer verified</code> åˆ™ä¸ºæ­£ç¡®ï¼Œæ‰§è¡Œå®‰è£…æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; php composer-setup.php
</code></pre>
<p>æ¥ç€åˆ é™¤å®‰è£…æ–‡ä»¶</p>
<pre><code class="language-shell">&gt; php -r &quot;unlink('composer-setup.php');&quot;
</code></pre>
<p>ç§»åŠ¨åˆ°å…¨å±€</p>
<pre><code class="language-shell">&gt; mv composer.phar /usr/local/bin/composer
</code></pre>
<p>ä¸­å›½é•œåƒ</p>
<pre><code class="language-shell">&gt; composer config -g repo.packagist composer https://packagist.phpcomposer.com
# æˆ–ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ
&gt; composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
</code></pre>
<h3 id="composer-å‘½ä»¤">Composer å‘½ä»¤</h3>
<p>å®‰è£…/æ›´æ–°é¡¹ç›®ä¾èµ–</p>
<pre><code class="language-shell">&gt; cd 'ä½ çš„é¡¹ç›®åœ°å€'
&gt; composer install
# æˆ–
&gt; composer update
</code></pre>
<p>å¦‚æœæŠ¥é”™</p>
<pre><code class="language-shell">&gt; Unsupported declare 'strict_types' ...
</code></pre>
<p>PHPç‰ˆæœ¬é”™è¯¯ï¼ŒåŸå› æ˜¯å› ä¸ºç›´æ¥ä½¿ç”¨ composer å‘½ä»¤åº”è¯¥è°ƒç”¨åˆ°äº†è€ç‰ˆæœ¬çš„ PHP CLIï¼Œæ·»åŠ ä¸€ä¸ªåˆ«åå³å¯</p>
<pre><code class="language-shell">&gt; vi ~/.bashrc
</code></pre>
<p>è¾“å…¥ <code>i</code> è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ–°å¢ä¸€è¡Œ</p>
<pre><code class="language-shell">&gt; alias composer='php /usr/local/bin/composer'
</code></pre>
<p>è¾“å…¥ <code>:wq</code> ä¿å­˜å¹¶é€€å‡º</p>
<blockquote>
<p>é‡æ–°ç™»å½• SSH å³å¯ç”Ÿæ•ˆ <code>.bashrc</code> æ–‡ä»¶<br>
ğŸ˜¬</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Yii2 å°† CSV æ–‡ä»¶å¯¼å…¥åˆ°æ•°æ®åº“]]></title>
        <id>https://www.xihrni.com/post/yii2-jiang-csv-wen-jian-dao-ru-dao-shu-ju-ku/</id>
        <link href="https://www.xihrni.com/post/yii2-jiang-csv-wen-jian-dao-ru-dao-shu-ju-ku/">
        </link>
        <updated>2019-06-20T07:14:51.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ä»£ç ">ğŸ˜³ä»£ç </h3>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ä»£ç ">ğŸ˜³ä»£ç </h3>
<!-- more -->
<pre><code class="language-php">$file = fopen(Yii::getAlias('@webroot') . '/region-code.csv', 'r');

while ($data = fgetcsv($file)) {
    $rows[] = [
        'name' =&gt; trim($data[1]),
        'code' =&gt; trim($data[0]),
    ];
}

fclose($file);

$result = Yii::$app-&gt;db-&gt;createCommand()
    -&gt;batchInsert(\app\models\RegionCode::tableName(), ['name', 'code'], $rows)
    -&gt;execute();

var_dump($result);exit;
</code></pre>
<p>ğŸ˜¬</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Git ç‰ˆæœ¬æ§åˆ¶å¸¸ç”¨å‘½ä»¤]]></title>
        <id>https://www.xihrni.com/post/git-ban-ben-kong-zhi-chang-yong-ming-ling/</id>
        <link href="https://www.xihrni.com/post/git-ban-ben-kong-zhi-chang-yong-ming-ling/">
        </link>
        <updated>2018-08-18T06:32:46.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="å‡†å¤‡">ğŸ˜³å‡†å¤‡</h2>
]]></summary>
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡">ğŸ˜³å‡†å¤‡</h2>
<!-- more -->
<h3 id="å¸®åŠ©">å¸®åŠ©</h3>
<p>æŸ¥çœ‹å¸®åŠ©</p>
<pre><code class="language-shell">git help
</code></pre>
<p>æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤</p>
<pre><code class="language-shell">git help -a
</code></pre>
<p>æŸ¥çœ‹ä½¿ç”¨æ‰‹å†Œ</p>
<pre><code class="language-shell">git help -g
</code></pre>
<p>æŸ¥çœ‹å•ä¸ªå‘½ä»¤</p>
<blockquote>
<p>ä½¿ç”¨ <code>F</code> é”®å‘ä¸‹ç¿»é¡µï¼Œä½¿ç”¨ <code>B</code> é”®å‘ä¸Šç¿»é¡µï¼Œä½¿ç”¨ <code>Q</code> é”®é€€å‡º</p>
</blockquote>
<pre><code class="language-shell">git help add
</code></pre>
<h3 id="é…ç½®">é…ç½®</h3>
<blockquote>
<p>é…ç½®åˆ†ä¸ºç³»ç»ŸèŒƒå›´ã€ç”¨æˆ·èŒƒå›´ã€é¡¹ç›®èŒƒå›´ï¼Œ<code>--global</code> ä¸ºç”¨æˆ·èŒƒå›´</p>
</blockquote>
<p>æŸ¥çœ‹é…ç½®</p>
<pre><code class="language-shell">git config --list
</code></pre>
<p>é…ç½®ç”¨æˆ·</p>
<pre><code class="language-shell">git config --global user.email 'xihrni@126.com'
git config --global user.name 'xihrni'
</code></pre>
<p>é…ç½®é¢œè‰²</p>
<pre><code class="language-shell">git config --global color.ui true
</code></pre>
<p>é…ç½®å¿½ç•¥æ–‡ä»¶æƒé™</p>
<pre><code class="language-shell">git config core.filemode false
</code></pre>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="language-shell">cat ~/.gitconfig
</code></pre>
<h3 id="åˆ«å">åˆ«å</h3>
<p>æ–°å¢åˆ«å</p>
<pre><code class="language-shell">git config --global alias.co checkout
</code></pre>
<p>Mac OS è®¾å®šåˆ«å</p>
<pre><code class="language-shell">vim ~/.bash_profile

# æ–°å¢ä¸€è¡Œ
alias gco='git checkout'

# ä¿å­˜é€€å‡º
:wq

# ç«‹å³ç”Ÿæ•ˆ
source ~/.bash_profile
</code></pre>
<h3 id="å¿½ç•¥è·Ÿè¸ªæ–‡ä»¶">å¿½ç•¥è·Ÿè¸ªæ–‡ä»¶</h3>
<p>é…ç½®å…¨å±€å¿½ç•¥æ–‡ä»¶</p>
<pre><code class="language-shell">git config --global core.excludesfile ~/.gitignore_global
</code></pre>
<p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<pre><code class="language-shell">vim ~/.gitignore_global

# æ–°å¢å¿½ç•¥æ–‡ä»¶
.DS_Store

# ä¿å­˜é€€å‡º
:wq
</code></pre>
<p>é…ç½®é¡¹ç›®å¿½ç•¥æ–‡ä»¶</p>
<pre><code class="language-shell">vim .gitignore

# æ–°å¢ä¸€è¡Œ
*.log

# ä¿å­˜é€€å‡º
:wq
</code></pre>
<p>å°† <code>.gitignore</code> æ–‡ä»¶æäº¤åˆ°åˆ°ç‰ˆæœ¬åº“å³å¯</p>
<h3 id="å¿½ç•¥æœ¬åœ°æ–‡ä»¶">å¿½ç•¥æœ¬åœ°æ–‡ä»¶</h3>
<p>å¿½ç•¥</p>
<pre><code class="language-shell">git update-index --skip-worktree &lt;file&gt;
</code></pre>
<p>æ‹‰å–æ—¶æ–‡ä»¶å†²çªéœ€è¿˜åŸå¿½ç•¥</p>
<pre><code class="language-shell">git update-index --no-skip-worktree &lt;file&gt;
</code></pre>
<h2 id="åŸºç¡€">åŸºç¡€</h2>
<h3 id="åˆå§‹åŒ–">åˆå§‹åŒ–</h3>
<p>åˆ›å»ºç›®å½•å¹¶è¿›å…¥</p>
<pre><code class="language-shell">mkdir git &amp;&amp; cd git
</code></pre>
<p>åˆå§‹åŒ– git</p>
<pre><code class="language-shell">git init
</code></pre>
<h3 id="æäº¤">æäº¤</h3>
<p>åˆ›å»º <code>README</code> æ–‡ä»¶</p>
<pre><code class="language-shell">echo `# git demo` &gt;&gt; README.md
</code></pre>
<p>æŸ¥çœ‹çŠ¶æ€</p>
<pre><code class="language-shell">git status
</code></pre>
<p>å°†ä¿®æ”¹æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜ï¼ˆstageï¼‰åŒº</p>
<blockquote>
<p>å°†ä¿æŒæ–‡ä»¶è¿½è¸ªï¼Œgit ä¸è¿½è¸ªæ–‡ä»¶å¤¹</p>
</blockquote>
<pre><code class="language-shell">git add README.md
</code></pre>
<p>å°†æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“</p>
<pre><code class="language-shell">git commit -m 'git init'
</code></pre>
<p>æˆ–</p>
<blockquote>
<p>å°†ä¿®æ”¹æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜ï¼ˆstageï¼‰åŒºå¹¶æäº¤åˆ°æœ¬åœ°ç‰ˆæœ¬åº“</p>
</blockquote>
<pre><code class="language-shell">git commit -am 'git init'
</code></pre>
<h3 id="å¯¹æ¯”">å¯¹æ¯”</h3>
<p>å¯¹æ¯”</p>
<pre><code class="language-shell">git diff
</code></pre>
<p>å¯¹æ¯”æ–‡ä»¶</p>
<pre><code class="language-shell">git diff index.html
</code></pre>
<p>å¯¹æ¯”æš‚å­˜ï¼ˆstageï¼‰åŒº</p>
<pre><code class="language-shell">git diff --staged
</code></pre>
<h3 id="é‡å‘½å">é‡å‘½å</h3>
<blockquote>
<p>é‡å‘½åå·²è·Ÿè¸ªçš„æ–‡ä»¶</p>
</blockquote>
<p>git å‘½ä»¤ä¹‹å¤–æ›´æ”¹æ–‡ä»¶åæ—¶</p>
<pre><code class="language-shell"># å…ˆåˆ é™¤åŸæ–‡ä»¶
git rm style.css

# æ·»åŠ æ–°æ–‡ä»¶
git add themes.css
</code></pre>
<p>git å‘½ä»¤é‡å‘½å</p>
<pre><code class="language-shell">git mv theme.css xihrni-theme.css
</code></pre>
<p>ç§»åŠ¨æ–‡ä»¶</p>
<pre><code class="language-shell">git mv xihrni-theme.css css/
</code></pre>
<p>ç§»åŠ¨ç›®å½•</p>
<pre><code class="language-shell">git mv css asset/
</code></pre>
<h3 id="åˆ é™¤æ–‡ä»¶">åˆ é™¤æ–‡ä»¶</h3>
<blockquote>
<p>åˆ é™¤æ–‡ä»¶ä¹‹å‰ï¼Œéœ€è¦ç¡®å®šæ–‡ä»¶å·²è¢«è·Ÿè¸ªï¼Œå¹¶ä¸”æ²¡æœ‰å°†è¦è¢«æäº¤çš„ä¿®æ”¹ï¼Œå¦‚æœä¿®æ”¹äº†è¦åˆ é™¤çš„æ–‡ä»¶ï¼Œéœ€è¦å…ˆæ·»åŠ ä¿®æ”¹å¹¶æäº¤ï¼Œä¹‹åæ‰èƒ½åˆ é™¤</p>
</blockquote>
<pre><code class="language-shell">git rm asset/css/xihrni-theme.css
</code></pre>
<p>åˆ é™¤æš‚å­˜åŒºæ–‡ä»¶</p>
<pre><code class="language-shell">git rm --cached index.html
</code></pre>
<h3 id="æ¢å¤åˆ é™¤æ–‡ä»¶">æ¢å¤åˆ é™¤æ–‡ä»¶</h3>
<p>æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡æäº¤çš„çŠ¶æ€</p>
<blockquote>
<p><code>--</code>è¡¨ç¤ºå½“å‰åˆ†æ”¯</p>
</blockquote>
<pre><code class="language-shell">git checkout HEAD -- index.html
</code></pre>
<p>å¦‚æœæ–‡ä»¶åˆ é™¤åè¿›è¡Œæäº¤äº†ï¼Œå¯ä»¥æ¢å¤æœ€è¿‘ä¸€æ¬¡æäº¤çš„ä¸Šä¸€æ¬¡æäº¤</p>
<blockquote>
<p><code>^</code> è¡¨ç¤ºä¸Šä¸€æ¬¡ï¼Œ<code>^^</code> è¡¨ç¤ºä¸Šä¸¤æ¬¡</p>
</blockquote>
<pre><code class="language-shell">git checkout HEAD^ -- index.html
</code></pre>
<p>æ¢å¤å·²æœ‰çš„æäº¤</p>
<blockquote>
<p>å¯ä½¿ç”¨ <code>git log --oneline</code> è·å– <code>commit id</code></p>
</blockquote>
<pre><code class="language-shell">git revert &lt;commit id&gt;
</code></pre>
<h3 id="é‡ç½®æäº¤æ§åˆ¶å¤´éƒ¨æŒ‡é’ˆ">é‡ç½®æäº¤ï¼Œæ§åˆ¶å¤´éƒ¨æŒ‡é’ˆ</h3>
<blockquote>
<p>é»˜è®¤æ¯æ¬¡æäº¤å®Œæˆåå¤´éƒ¨æŒ‡é’ˆéƒ½ä¼šæŒ‡å‘æœ€åçš„æäº¤<br>
<code>--mixed</code> é»˜è®¤æ–¹å¼ï¼Œ è¿™ä¸ªé€‰é¡¹ä¼šæŠŠæš‚å­˜åŒºé‡Œçš„ä¸œè¥¿é‡ç½®åˆ°æŒ‡å®šæäº¤çš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šæŠŠæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæäº¤<br>
<code>--soft</code>  è¿™ä¸ªé€‰é¡¹é‡ç½®æäº¤ï¼Œä¸ä¼šå½±å“åˆ°å·¥ä½œç›®å½•è¿˜æœ‰æš‚å­˜åŒºé‡Œçš„ä¸œè¥¿<br>
<code>--hard</code>  è¿™ä¸ªé€‰é¡¹ä¼šæŠŠå·¥ä½œç›®å½•è¿˜æœ‰æš‚å­˜åŒºï¼Œç›´æ¥é‡ç½®åˆ°æŒ‡å®šçš„æäº¤çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å°†å…¨éƒ¨çŠ¶æ€è¿˜åŸ<br>
ä¹Ÿå°±æ˜¯è¯´ <code>mixed</code> é‡ç½®æš‚å­˜åŒºä¸é‡ç½®å·¥ä½œç›®å½•ï¼Œ<code>hard</code> éƒ½é‡ç½®ï¼Œ<code>soft</code> éƒ½ä¸é‡ç½®</p>
</blockquote>
<pre><code class="language-shell">git reset --mixed &lt;commit id&gt;
</code></pre>
<h3 id="å·¥ä½œè¿›åº¦">å·¥ä½œè¿›åº¦</h3>
<p>ä¿å­˜</p>
<blockquote>
<p>ä¿å­˜åå°†è¿˜æ¢å¤åˆ°å½“å‰ç‰ˆæœ¬æäº¤æ—¶çš„ä¿®æ”¹</p>
</blockquote>
<pre><code class="language-shell">git stash save 'ä¿®æ”¹äº† index.html'
</code></pre>
<p>æŸ¥çœ‹</p>
<pre><code class="language-shell">git stash list
</code></pre>
<p>å¯¹æ¯”</p>
<pre><code class="language-shell">git stash show -p &lt;stash@{0}&gt;
</code></pre>
<p>æ¢å¤</p>
<pre><code class="language-shell">git stash apply &lt;stash@{0}&gt;
</code></pre>
<p>åˆ é™¤</p>
<pre><code class="language-shell">git stash drop &lt;stash@{0}&gt;
</code></pre>
<p>æ¢å¤å¹¶åˆ é™¤</p>
<pre><code class="language-shell">git stash pop &lt;stash@{0}&gt;
</code></pre>
<h3 id="æ—¥å¿—">æ—¥å¿—</h3>
<blockquote>
<p>--oneline ç®€å•æ˜¾ç¤º<br>
--oneline -5 ç®€å•æ˜¾ç¤ºæœ€å5è¡Œ<br>
--decorate æ˜¾ç¤ºåˆ†æ”¯<br>
--decorate --all æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯<br>
--author='' æ˜¾ç¤ºæŸä¸€ä½œè€…çš„æäº¤<br>
--grep='' æœç´¢<br>
--before='' ä¹‹å‰çš„æ—¥æœŸï¼Œå¯è¾“å…¥ <code>2018-01-01</code> æˆ– <code>1 day</code> ã€<code>1 week</code> ç­‰<br>
--after ä¹‹åçš„æ—¥å¿—<br>
--graph å›¾å½¢æ˜¾ç¤º</p>
</blockquote>
<pre><code class="language-shell">git log --oneline
</code></pre>
<h2 id="åˆ†æ”¯">åˆ†æ”¯</h2>
<h3 id="åˆ†æ”¯-2">åˆ†æ”¯</h3>
<p>å½“å‰æ‰€åœ¨åˆ†æ”¯</p>
<pre><code class="language-shell">git status
</code></pre>
<p>æˆ–</p>
<pre><code class="language-shell">git branch
</code></pre>
<p>æ–°å»ºåˆ†æ”¯</p>
<pre><code class="language-shell">git branch &lt;branch name&gt;
</code></pre>
<p>åˆ‡æ¢åˆ†æ”¯</p>
<pre><code class="language-shell">git checkout &lt;branch name&gt;
</code></pre>
<p>åˆ‡æ¢è¿œç¨‹åˆ†æ”¯å¹¶æ–°å»ºæœ¬åœ°åˆ†æ”¯</p>
<pre><code class="language-shell">git checkout -b develop origin/develop
</code></pre>
<h3 id="å¯¹æ¯”-2">å¯¹æ¯”</h3>
<pre><code class="language-shell">git diff master..feature/mobile
</code></pre>
<p>å¯¹æ¯”æŸä¸€æ–‡ä»¶</p>
<pre><code class="language-shell">git diff master..feature/mobile index.html
</code></pre>
<h3 id="åˆå¹¶">åˆå¹¶</h3>
<blockquote>
<p><code>Fast forward</code> åˆå¹¶ï¼Œå› ä¸ºæ²¡æœ‰å¯¹å½“å‰åˆ†æ”¯åšæ–°çš„æäº¤</p>
</blockquote>
<p>åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</p>
<pre><code class="language-shell">git merge feature/mobile
</code></pre>
<p>å¦‚æœå½“å‰åˆ†æ”¯å·²åšæ–°çš„æäº¤åˆ™ä¼šæ‰“å¼€ä¸€ä¸ªæè¿°æ–‡ä»¶ï¼Œä¿®æ”¹åä¿å­˜é€€å‡ºå³å¯</p>
<pre><code class="language-shell">:wq
</code></pre>
<p>å‡ºç°å†²çªï¼Œè§£å†³</p>
<pre><code class="language-shell">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    ... å½“å‰åˆ†æ”¯å†…å®¹
=======
    ... éœ€è¦åˆå¹¶çš„åˆ†æ”¯å†…å®¹
&gt;&gt;&gt;&gt;&gt;&gt;&gt; master
</code></pre>
<p>åˆ é™¤ä¸éœ€è¦çš„å†…å®¹åï¼ˆåŒ…å« <code>&lt;&lt;&lt;</code> <code>===</code> <code>&gt;&gt;&gt;</code> è¿™ä¸‰è¡Œï¼‰ï¼Œæ·»åŠ åˆ° git å¹¶æäº¤ï¼Œæäº¤æ—¶ä¸éœ€è¦ <code>m</code> å‚æ•°</p>
<pre><code class="language-shell">git add .
git commit
:wq
</code></pre>
<p>å‡ºç°å†²çªï¼Œæ”¾å¼ƒåˆå¹¶</p>
<pre><code class="language-shell">git merge --abort
</code></pre>
<h3 id="é‡å‘½åä¸åˆ é™¤">é‡å‘½åä¸åˆ é™¤</h3>
<p>é‡å‘½å</p>
<pre><code class="language-shell">git branch -m &lt;branch name&gt; &lt;new branch name&gt;
</code></pre>
<p>åˆ é™¤</p>
<pre><code class="language-shell">git branch -d &lt;branch name&gt;
</code></pre>
<h2 id="è¿œç¨‹">è¿œç¨‹</h2>
<h3 id="æ·»åŠ è¿œç¨‹ç‰ˆæœ¬åº“">æ·»åŠ è¿œç¨‹ç‰ˆæœ¬åº“</h3>
<pre><code class="language-shell">git remote add &lt;name&gt; &lt;url&gt;
git remote add origin git@github.com:xihrni/git_demo.git
</code></pre>
<p>æŸ¥çœ‹è¿œç¨‹</p>
<blockquote>
<p>ä¸€ä¸ªæ˜¯ fetch è¿œç¨‹ï¼Œç”¨æ¥æå–ï¼Œä¸€ä¸ªæ˜¯ push è¿œç¨‹ï¼Œç”¨æ¥æ¨é€</p>
</blockquote>
<pre><code class="language-shell">git remote -v
</code></pre>
<h3 id="ç§»é™¤è¿œç¨‹ç‰ˆæœ¬åº“">ç§»é™¤è¿œç¨‹ç‰ˆæœ¬åº“</h3>
<pre><code class="language-shell">git remote rm &lt;name&gt;
git remote rm origin
</code></pre>
<h3 id="æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨">æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨</h3>
<pre><code class="language-shell">git remote update &lt;name&gt; -p
git remote update origin -p
</code></pre>
<h3 id="åˆ‡æ¢è¿œç¨‹åˆ†æ”¯">åˆ‡æ¢è¿œç¨‹åˆ†æ”¯</h3>
<pre><code class="language-shell">git checkout -t &lt;remote name&gt;/&lt;branch name&gt;
git checkout -t origin/develop
</code></pre>
<h3 id="æ‹‰å–è¿œç¨‹åˆ†æ”¯">æ‹‰å–è¿œç¨‹åˆ†æ”¯</h3>
<pre><code class="language-shell">git pull &lt;remote name&gt; &lt;branch name&gt;
git pull origin master
</code></pre>
<p>å¦‚æœæç¤º <code>fatal: refusing to merge unrelated histories</code></p>
<pre><code class="language-shell">git pull origin master --allow-unrelated-histories
</code></pre>
<h3 id="æ¨é€è¿œç¨‹åˆ†æ”¯">æ¨é€è¿œç¨‹åˆ†æ”¯</h3>
<p>å°†æœ¬åœ°çš„ <code>master</code> åˆ†æ”¯æ¨é€åˆ° <code>origin</code> ä¸»æœºï¼ŒåŒæ—¶æŒ‡å®š <code>origin</code> ä¸ºé»˜è®¤ä¸»æœº</p>
<pre><code class="language-shell">git push -u origin master
</code></pre>
<blockquote>
<p>Branch master set up to track remote branch master form origin<br>
æ„æ€å°±æ˜¯ï¼Œmaster è¿™ä¸ªåˆ†æ”¯ä¼šè·Ÿè¸ª origin ä¸Šçš„ master åˆ†æ”¯</p>
</blockquote>
<h3 id="æŸ¥çœ‹-åˆ é™¤è¿œç¨‹åˆ†æ”¯">æŸ¥çœ‹ã€åˆ é™¤è¿œç¨‹åˆ†æ”¯</h3>
<p>æŸ¥çœ‹åˆ†æ”¯</p>
<pre><code class="language-shell">git branch -a
git branch -r
</code></pre>
<p>åˆ é™¤åˆ†æ”¯</p>
<pre><code class="language-shell">git push origin --delete &lt;branch name&gt;
</code></pre>
<h3 id="å…‹éš†è¿œç¨‹ç‰ˆæœ¬åº“">å…‹éš†è¿œç¨‹ç‰ˆæœ¬åº“</h3>
<pre><code class="language-shell">git clone &lt;url&gt; &lt;dir&gt;
git clone git@github.com:xihrni/git_demo.git git_demo
</code></pre>
<h3 id="æå–-åˆå¹¶è¿œç¨‹ç‰ˆæœ¬åº“">æå–ã€åˆå¹¶è¿œç¨‹ç‰ˆæœ¬åº“</h3>
<p>æå–</p>
<pre><code class="language-shell">git fetch
</code></pre>
<p>åˆå¹¶</p>
<pre><code class="language-shell">git merge origin/master
</code></pre>
<p>æå–å¹¶åˆå¹¶è¿œç¨‹ç‰ˆæœ¬åº“</p>
<pre><code class="language-shell">git pull
</code></pre>
<h3 id="å¯†ç ä¿®æ”¹">å¯†ç ä¿®æ”¹</h3>
<h5 id="windows">windows</h5>
<p><code>æ§åˆ¶é¢æ¿</code> -&gt; <code>ç”¨æˆ·è´¦æˆ·</code> -&gt; <code>ç®¡ç† Windows å‡­æ®</code>ï¼Œæ‰¾åˆ°ç›¸åº”çš„åœ°å€å¯è¿›è¡Œç¼–è¾‘</p>
<h5 id="mac-os">Mac OS</h5>
<p>TODO</p>
<h3 id="ssh-key">SSH key</h3>
<h5 id="æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ˜¯å¦æœ‰-ssh-key">æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ˜¯å¦æœ‰ SSH key</h5>
<pre><code class="language-shell"> ls -al ~/.ssh
</code></pre>
<p>å¦‚æœæ²¡æœ‰å‡ºç° <code>id_rsa.pub</code> æ–‡ä»¶åˆ™éœ€è¦ç”Ÿæˆ</p>
<h4 id="ç”Ÿæˆ-ssh-key">ç”Ÿæˆ SSH key</h4>
<pre><code class="language-shell">ssh-keygen -t rsa -b 4096 -C &quot;xihrni@126.com&quot;
</code></pre>
<p>å¤åˆ¶ <code>id_rsa.pub</code> æ–‡ä»¶é‡Œçš„æ‰€æœ‰å†…å®¹åˆ° github è´¦æˆ·é‡Œçš„ <code>SSH keys</code> é‡Œæ·»åŠ </p>
<h2 id="æ ‡ç­¾">æ ‡ç­¾</h2>
<h3 id="æŸ¥çœ‹æ ‡ç­¾">æŸ¥çœ‹æ ‡ç­¾</h3>
<p>æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾</p>
<pre><code class="language-shell">git tag
</code></pre>
<p>æŸ¥çœ‹æŸä¸€æ ‡ç­¾ï¼Œæ˜¾ç¤ºå‡ºæŸä¸€æ ‡ç­¾æœ€åæäº¤çš„å˜åŒ–</p>
<pre><code class="language-shell">git show &lt;tag name&gt;
</code></pre>
<h3 id="æ·»åŠ æ ‡ç­¾">æ·»åŠ æ ‡ç­¾</h3>
<pre><code class="language-shell">git tag &lt;tag name&gt;
git tag v0.1
</code></pre>
<p>æ·»åŠ æ³¨é‡Šçš„æ ‡ç­¾</p>
<pre><code class="language-shell">git tag -a &lt;tag name&gt; [&lt;commit id&gt;] -m ''
git tag -a v0.1 xxx -m 'init'
</code></pre>
<h3 id="åˆ é™¤æ ‡ç­¾">åˆ é™¤æ ‡ç­¾</h3>
<pre><code class="language-shell">git tag -d &lt;tag name&gt;
</code></pre>
<h3 id="åˆ‡æ¢åˆ°æ ‡ç­¾">åˆ‡æ¢åˆ°æ ‡ç­¾</h3>
<pre><code class="language-shell">git checkout &lt;tag name&gt;
</code></pre>
<h3 id="æ¨é€åˆ°è¿œç¨‹">æ¨é€åˆ°è¿œç¨‹</h3>
<pre><code class="language-shell">git push --tags
</code></pre>
<h2 id="å·¥ä½œæµ">å·¥ä½œæµ</h2>
<h3 id="é›†ä¸­å¼å·¥ä½œæµ">é›†ä¸­å¼å·¥ä½œæµ</h3>
<p>ä¸€ä¸ªä¸­å¤®è¿œç¨‹ä»“åº“ï¼Œä¸€ä¸ªä¸»åˆ†æ”¯</p>
<h3 id="åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ">åŠŸèƒ½åˆ†æ”¯å·¥ä½œæµ</h3>
<p>ä¸€ä¸ªä¸­å¤®è¿œç¨‹ä»“åº“ï¼Œä¸€ä¸ªä¸»åˆ†æ”¯ï¼Œå¤šä¸ªåŠŸèƒ½åˆ†æ”¯</p>
<h3 id="gitflow-å·¥ä½œæµ">Gitflow å·¥ä½œæµ</h3>
<p>ä¸€ä¸ªä¸­å¤®è¿œç¨‹ä»“åº“ï¼Œä¸€ä¸ªä¸»åˆ†æ”¯ï¼Œä¸€ä¸ªå¼€å‘åˆ†æ”¯ï¼Œå¤šä¸ªåŠŸèƒ½åˆ†æ”¯<br>
ğŸ˜¬</p>
]]></content>
    </entry>
</feed>