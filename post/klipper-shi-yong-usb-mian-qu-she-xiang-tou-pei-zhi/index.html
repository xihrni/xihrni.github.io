<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Klipperä½¿ç”¨USBå…é©±æ‘„åƒå¤´é…ç½® | æˆ‘çš„ä¸–ç•Œ</title>
<link rel="shortcut icon" href="https://www.xihrni.com/favicon.ico?v=1681896232467">
<!-- <link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet"> -->
<link href="https://www.xihrni.com/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://www.xihrni.com/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Klipperä½¿ç”¨USBå…é©±æ‘„åƒå¤´é…ç½® | æˆ‘çš„ä¸–ç•Œ - Atom Feed"
  href="https://www.xihrni.com/atom.xml">
<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700"> -->


    <meta name="description" content="
ğŸ˜³å¹´å‰åœ¨ç¾¤å‹çš„ä¸€ç•ª â€œæ¨èâ€ ä¸‹ï¼Œåœ¨é—²é±¼æ”¶äº†3ä¸ª500Wåƒç´ çš„USBæ‘„åƒå¤´ï¼Œæƒ³ç€å¯ä»¥ç»™æˆ‘ä¸¤å°æœºå™¨è£…ä¸Šç”¨æ¥ç›‘æ§æ‰“å°çŠ¶æ€ï¼ˆæœºå™¨æ”¾çš„ç¦»ç”µè„‘æ¡Œè¿œï¼‰ã€‚è¿™æ ·å¯ä»¥ä¸ç”¨èµ°è¿‡å»æŸ¥çœ‹ï¼Œæˆ–è€…ä»¥åä»£ç†åˆ°å…¬ç½‘äººåœ¨å¤–é¢æ—¶ä¹Ÿèƒ½å¶å°”çœ‹ä¸€çœ¼



MJPG-Stream..." />
    <meta name="keywords" content="Klipper,Crowsnest,USBæ‘„åƒå¤´,Fluidd" />
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css"> -->
    <link rel="stylesheet" href="https://www.xihrni.com/katex.min.css">
    <!-- <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script> -->
    <script src="https://www.xihrni.com/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://www.xihrni.com">
  <img class="avatar" src="https://www.xihrni.com/images/avatar.png?v=1681896232467" alt="">
  </a>
  <h1 class="site-title">
    æˆ‘çš„ä¸–ç•Œ
  </h1>
  <p class="site-description">
    å›å­å’Œè€Œä¸åŒã€‚ç©·åˆ™ç‹¬å–„å…¶èº«ï¼Œè¾¾åˆ™å…¼æµå¤©ä¸‹ã€‚
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/xihrni" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Klipperä½¿ç”¨USBå…é©±æ‘„åƒå¤´é…ç½®
            </h2>
            <div class="post-info">
              <span>
                2023-01-30
              </span>
              <span>
                4 min read
              </span>
              
                <a href="https://www.xihrni.com/tag/klipper/" class="post-tag">
                  # Klipper
                </a>
              
                <a href="https://www.xihrni.com/tag/crowsnest/" class="post-tag">
                  # Crowsnest
                </a>
              
                <a href="https://www.xihrni.com/tag/usb-she-xiang-tou/" class="post-tag">
                  # USBæ‘„åƒå¤´
                </a>
              
                <a href="https://www.xihrni.com/tag/fluidd/" class="post-tag">
                  # Fluidd
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://www.xihrni.com/post-images/klipper-shi-yong-usb-mian-qu-she-xiang-tou-pei-zhi.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <blockquote>
<p>ğŸ˜³å¹´å‰åœ¨ç¾¤å‹çš„ä¸€ç•ª <code>â€œæ¨èâ€</code> ä¸‹ï¼Œåœ¨é—²é±¼æ”¶äº†3ä¸ª500Wåƒç´ çš„USBæ‘„åƒå¤´ï¼Œæƒ³ç€å¯ä»¥ç»™æˆ‘ä¸¤å°æœºå™¨è£…ä¸Šç”¨æ¥ç›‘æ§æ‰“å°çŠ¶æ€ï¼ˆæœºå™¨æ”¾çš„ç¦»ç”µè„‘æ¡Œè¿œï¼‰ã€‚è¿™æ ·å¯ä»¥ä¸ç”¨èµ°è¿‡å»æŸ¥çœ‹ï¼Œæˆ–è€…ä»¥åä»£ç†åˆ°å…¬ç½‘äººåœ¨å¤–é¢æ—¶ä¹Ÿèƒ½å¶å°”çœ‹ä¸€çœ¼</p>
</blockquote>
<!-- more -->
<figure data-type="image" tabindex="1"><img src="https://www.xihrni.com/post-images/1677845217842.jpeg" alt="é—²é±¼æ‘„åƒå¤´å–å®¶" loading="lazy"></figure>
<h3 id="mjpg-streamer">MJPG-Streamer</h3>
<p>åŸæœ¬é€šè¿‡ <code>kiauh</code> åŠ©æ‰‹å®‰è£… <code>MJPG-Streamer</code> æ¥é©±åŠ¨ <code>Webcam</code> æœåŠ¡å·²ç»ä¸è¡Œäº†ï¼Œæœ€æ–°ç‰ˆ <code>5.0</code> ä¹‹åçš„<code>kiauh</code> åŠ©æ‰‹å·²ç»ç¦æ­¢å®‰è£… <code>MJPG-Streamer</code>ï¼Œå°±ç®—æ­¤æ—¶ç”¨è€çš„ç‰ˆæœ¬è¿›è¡Œå®‰è£…ä¹Ÿä¼šå‡ºç°æ— æ³•ä¸‹è½½ç›¸å…³ä¾èµ–è€Œå¯¼è‡´çš„æŠ¥é”™ï¼Œæœ€ç»ˆå®‰è£…å¤±è´¥</p>
<figure data-type="image" tabindex="2"><img src="https://www.xihrni.com/post-images/1677777713553.png" alt=" åŠ©æ‰‹" loading="lazy"></figure>
<h3 id="crowsnest">Crowsnest</h3>
<blockquote>
<p>å®˜æ–¹ä»‹ç»ï¼š<br>
å®ƒç»§æ‰¿äº†ä»–çš„åå­—ä»å¸†èˆ¹ä¹Œé¸¦çªã€‚<br>
ä¹Œé¸¦å·¢æ˜¯ä¸€è‰˜èˆ¹çš„ä¸»æ¡…æ†ä¸Šéƒ¨çš„ç»“æ„ï¼Œæˆ–ç”¨ä½œç­æœ›å°çš„ç»“æ„ã€‚ è§https://en.wikipedia.org/wiki/Crow 's_nest<br>
å› æ­¤ï¼Œè¿™å°†æ˜¯æ‚¨çš„æ‰“å°æœºçš„â€œç­æœ›ç‚¹â€ã€‚</p>
</blockquote>
<blockquote>
<p>ç½‘å‹ä»‹ç»ï¼š<br>
ä¸€èˆ¬å…é©±å³æ’å³ç”¨æ‘„åƒå¤´ï¼Œå‡å¯ä»¥åœ¨ linuxã€armbian ç­‰ç³»ç»Ÿä¸‹çš„ klipper æ”¯æŒä½¿ç”¨ï¼Œæ— éœ€å¦å¤–å®‰è£…é©±åŠ¨<br>
ä¸åŒäºå¸¸è§„çš„çš„Â MJPG-Streamer æ–¹å¼å®‰è£…ï¼ŒMainsail ä¸‹çš„ Crowsnest ä¾é  ÂµStreamerï¼Œæä¾›æ›´è½»é‡æ›´å¿«é€Ÿçš„æ›¿ä»£æœåŠ¡ï¼Œå…·å¤‡æ”¯æŒæ–­çº¿é‡è¿åä¿¡å·æ¢å¤ï¼Œè€Œæ— éœ€é‡å¯æœåŠ¡<br>
æ‘„åƒå¤´æ”¯æŒçš„åˆ†è¾¨ç‡åŠåˆ·æ–°ç‡ç­‰å‚æ•°å¯ä»¥é€šè¿‡ Crowsnest.log æŸ¥çœ‹</p>
</blockquote>
<h4 id="å®‰è£…">å®‰è£…</h4>
<pre><code class="language-shell"># è®°å¾—å…ˆåˆ‡æ¢åˆ°è¿è¡Œ Klipper çš„æ™®é€šç”¨æˆ·ï¼Œä¾‹ï¼šsu klipper
cd ~
git clone https://github.com/mainsail-crew/crowsnest.git
cd crowsnest
sudo make install
</code></pre>
<p>å¦‚æœç¼–è¯‘å®‰è£…å®Œæˆåï¼ˆmake install)ï¼Œä½ å‘ç°ä¸‹é¢çš„é…ç½®æ–‡ä»¶å¹¶æ²¡æœ‰å‡ºç°è¯·å°è¯•ç¼–è¯‘é…ç½®åå†è¿›è¡Œå®‰è£…ï¼ˆè¯·å…ˆçœ‹å®Œåé¢çš„æ–‡ç« æ²¡é—®é¢˜å†å›æ¥æ‰§è¡Œè¿™æ®µï¼‰</p>
<pre><code class="language-shell">sudo make config
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://www.xihrni.com/post-images/1677826440404.png" alt="Crowsnesté…ç½®æ–‡ä»¶" loading="lazy"></figure>
<h4 id="é…ç½®">é…ç½®</h4>
<p>å…ˆåœ¨ <code>moonraker.conf</code> é…ç½®ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å®ç°å¯ä»¥åœ¨ <code>Mainsail</code> æˆ– <code>fluidd</code> ç½‘é¡µç«¯è¿›è¡Œæ§åˆ¶</p>
<pre><code class="language-ini">[update_manager crowsnest]
type: git_repo
path: ~/crowsnest
origin: https://github.com/mainsail-crew/crowsnest.git
managed_services: crowsnest
install_script: tools/install.sh
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://www.xihrni.com/post-images/1677826678406.png" alt="åœ¨  æˆ–  ç½‘é¡µç«¯è¿›è¡Œæ§åˆ¶Crowsnest" loading="lazy"></figure>
<p><code>crowsnest.conf</code> æ–‡ä»¶é»˜è®¤é…ç½®</p>
<pre><code class="language-ini">[crowsnest]
log_path: ~/printer_data/logs/crowsnest.log # æ—¥å¿—æ–‡ä»¶è·¯å¾„
log_level: verbose # æ—¥å¿—ç­‰çº§
delete_log: false # æ˜¯å¦æ¯æ¬¡é‡å¯æ—¶åˆ é™¤æ—¥å¿—

[cam 1]
mode: mjpg # mjpg/rtsp
port: 8080 # ç«¯å£
device: /dev/v4l/by-id/usb-058f_USB2.0_Camera-video-index0 # è®¾å¤‡IDï¼Œå’Œä¸»æ¿è¿æ¥ç±»ä¼¼
resolution: 1024x768 # åˆ†è¾¨ç‡ï¼Œ4ï¼š3å¯ç”¨ï¼š2592x1944 2560x1920 1600x1200 1200x900 640x480
max_fps: 15 # æœ€å¤§å¸§ç‡
#custom_flags: # æ‚¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ ‡å¿—è¿è¡ŒæµæœåŠ¡
#v4l2ctl: # æ·»åŠ v4l2-ctlå‚æ•°æ¥è®¾ç½®æ‚¨çš„æ‘„åƒæœºï¼Œè¯·å‚é˜…è®°å½•æ‚¨çš„æ‘„åƒæœºçš„èƒ½åŠ›
</code></pre>
<p>æ’ä¸ŠUSBæ‘„åƒå¤´åå¯ä»¥ä½¿ç”¨ <code>ls /dev/v4l/by-id</code> æŸ¥çœ‹IDå€¼ï¼Œæˆ–è€…ä½¿ç”¨ <code>isusb</code> æŸ¥çœ‹æ˜¯å¦æœ‰è®¾å¤‡æ¥å…¥</p>
<figure data-type="image" tabindex="5"><img src="https://www.xihrni.com/post-images/1677829138235.png" alt="issubå‘½ä»¤" loading="lazy"></figure>
<h4 id="ç½‘é¡µç«¯">ç½‘é¡µç«¯</h4>
<p>åœ¨ Klipper ç½‘é¡µç®¡ç†ç«¯çš„ç³»ç»Ÿè®¾ç½®ä¸­æ‰¾åˆ°æ‘„åƒå¤´è¿›è¡Œæ·»åŠ </p>
<figure data-type="image" tabindex="6"><img src="https://www.xihrni.com/post-images/1677829906610.png" alt="æ‘„åƒå¤´é…ç½®" loading="lazy"></figure>
<p>ç„¶ååœ¨é¦–é¡µä»ªè¡¨æ¿å°±èƒ½çœ‹åˆ°è¿™ä¸ªæ¨¡å—äº†ï¼Œæ‘„åƒå¤´ç”»é¢åŠ è½½çš„ä¼šæ¯”å…¶å®ƒæ¨¡å—æ…¢å¾ˆå¤šï¼Œæ‰€ä»¥æœ‰æ—¶å€™åˆ·æ–°ä¸å‡ºæ¥ç”»é¢å¤šç­‰ç­‰<br>
ï¼ˆè¯·å¿½ç•¥æˆ‘è¿™ä¸ªæ¸£æ¸£ç”»è´¨ï¼Œè¿™10å‡ å…ƒçš„æ‘„åƒå¤´çœŸä¸è¡ŒğŸ˜°ï¼‰</p>
<figure data-type="image" tabindex="7"><img src="https://www.xihrni.com/post-images/1677830089554.png" alt="" loading="lazy"></figure>
<p>å…¶å®ƒè¿˜æœ‰å¯¹ç„¦è·ç¦»ã€å¤šæ‘„åƒå¤´ã€å»¶æ—¶æ‹æ‘„ç­‰å¯ä»¥å‚è€ƒä»¥ä¸‹ç½‘å€</p>
<blockquote>
<p>å‚è€ƒç½‘å€ï¼šhttps://github.com/mainsail-crew/crowsnest<br>
å‚è€ƒç½‘å€ï¼šhttps://www.bilibili.com/read/cv20924273?from=search&amp;spm_id_from=333.337.0.0</p>
</blockquote>
<p>ğŸ˜¬</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#mjpg-streamer">MJPG-Streamer</a></li>
<li><a href="#crowsnest">Crowsnest</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85">å®‰è£…</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE">é…ç½®</a></li>
<li><a href="#%E7%BD%91%E9%A1%B5%E7%AB%AF">ç½‘é¡µç«¯</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://www.xihrni.com/post/macos-131venturawai-jie-xian-shi-qi-kai-qi-zi-ding-yi-hidpi/">
              <h3 class="post-title">
                MacOS 13.1ï¼ˆVenturaï¼‰å¤–æ¥æ˜¾ç¤ºå™¨å¼€å¯è‡ªå®šä¹‰HiDPI
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a class="margin-10-left-right" href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>|<a class="margin-10-left-right" href="https://beian.miit.gov.cn" target="_blank">ç²¤ICPå¤‡2021115781å·</a>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?5d5eb0906105cf159da64f5d0625e7fa";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
  <a class="rss" href="https://www.xihrni.com/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
